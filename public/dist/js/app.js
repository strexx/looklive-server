"use strict";var APP=APP||{};APP.start=function(){var t=function(){APP.routes.init(),APP.get.customFonts(),APP.serviceWorker.init()};return{init:t}}(),document.addEventListener("DOMContentLoaded",function(){APP.start.init()}),function(){function t(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function e(){var t=document.querySelector(".product"),e=document.querySelector('.product-indicator[data-uuid="'+t.getAttribute("data-uuid")+'"]'),r=document.querySelectorAll(".product-indicator");t.classList.add("product-active"),e.classList.add("product-indicator-active"),Array.prototype.forEach.call(r,function(t){t.addEventListener("click",function(t){var e=t.currentTarget.getAttribute("data-uuid");document.querySelector(".product-active").classList.remove("product-active"),document.querySelector(".product-indicator-active").classList.remove("product-indicator-active"),document.querySelector('.product[data-uuid="'+e+'"]').classList.add("product-active"),t.currentTarget.classList.add("product-indicator-active")})})}t(function(){/appearance/.test(window.location.href)&&e()})}(),APP.routes=function(){var t=function(){void 0!==location.hash&&""!==location.hash||(window.location="#/")},e=function(){routie({"/":function(){APP.render.home()},"/appearance/:uuid":APP.render.appearance})},r=function(){t(),e()};return{init:r}}(),APP.render=function(){var t=function(){APP.get.data("/api/feed").then(function(t){var e=document.getElementById("target");e.innerHTML=t})["catch"](function(t){console.error(t)})},e=function(t){var e="api/appearance/"+t;APP.get.data(e).then(function(t){var e=document.getElementById("target");e.innerHTML=t,r()})["catch"](function(t){console.error(t)})},r=function(t){var e=document.querySelector(".product"),r=document.querySelector('.product-indicator[data-uuid="'+e.getAttribute("data-uuid")+'"]'),n=document.querySelectorAll(".product-indicator");e.classList.add("product-active"),r.classList.add("product-indicator-active"),Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(t){var e=t.currentTarget.getAttribute("data-uuid");document.querySelector(".product-active").classList.remove("product-active"),document.querySelector(".product-indicator-active").classList.remove("product-indicator-active"),document.querySelector('.product[data-uuid="'+e+'"]').classList.add("product-active"),t.currentTarget.classList.add("product-indicator-active")})})};return{home:t,appearance:e}}(),APP.get=function(){function t(){var t=new FontFaceObserver("Raleway");t.check().then(function(){document.body.className+="fonts-loaded"})}function e(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){200==n.status?e(n.responseText):r(new Error("request failed!"))},n.send()})}return{data:e,customFonts:t}}(),APP.serviceWorker=function(){function t(){"serviceWorker"in navigator?navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(t){return console.info("Succes",t)})["catch"](function(t){return console.error("Error",t)}):console.log("ServiceWorker is not supported in this browser")}return{init:t}}();